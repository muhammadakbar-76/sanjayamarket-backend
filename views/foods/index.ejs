<div class="container">
  <div class="d-flex justify-content-between">
    <% if (message.length > 0) { %>
      <div class="alert alert-danger alert-dismissible fade show text-white" role="alert">
          <strong>Oops! Something Wrong</strong>
          <ul>
              <% message.forEach(element => { %>
               <li><%= element %></li>
              <% }) %>
          </ul>
          <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close">x</button>
        </div>
  <% } %>
  <% if (success.length > 0) { %>
    <script nonce="<%= cspNonce %>">
      toastr.success("<%= success %>", "Success!");
    </script>
    <% } %>
    <a href="/food/add" class="btn bg-gradient-success h-25">Add New Food</a>
  </div>
    <div class="card">
        <div class="table-responsive">
          <table class="table align-items-center mb-0">
            <thead>
              <tr>
                <th class="text-uppercase text-secondary text-sm font-weight-bolder opacity-7">Name</th>
                <th class="text-uppercase text-secondary text-sm font-weight-bolder opacity-7 ps-2">Description</th>
                <th class="text-uppercase text-secondary text-sm font-weight-bolder opacity-7 ps-2">Ingredients</th>
                <th class="text-uppercase text-secondary text-sm font-weight-bolder opacity-7 ps-2">Price</th>
                <th class="text-uppercase text-secondary text-sm font-weight-bolder opacity-7 ps-2">Type</th>
                <th class="text-center text-uppercase text-secondary text-sm font-weight-bolder opacity-7 ps-2">Picture</th>
                <th class="text-secondary opacity-7"></th>
              </tr>
            </thead>
            <tbody>
              <% foods.forEach(el => { %>
                <tr>
                    <td style="white-space: normal;">
                        <p class="text-xs font-weight-bold mb-0"><%= el.name %></p>
                    </td>
                    <td style="white-space: normal;">
                        <p class="text-xs text-secondary mb-0"><%= el.description %></p>
                    </td>
                    <td style="white-space: normal;">
                        <p class="text-xs font-weight-bold mb-0">
                            <%- el.ingredients.join(", ") %> 
                        </p>
                    </td>
                    <td style="white-space: normal;">
                        <p class="text-xs text-secondary mb-0"><%= el.price %></p>
                    </td>
                    <td style="white-space: normal;">
                        <p class="text-xs text-secondary mb-0"><%= el.types %></p>
                    </td>
                    <td style="white-space: normal;">
                        <img src=<%= el.picturePath %> alt="" class="rounded" width=100 height=100>
                    </td>
                    <td class="align-middle">
                       <a href="/food/edit/<%= el._id %>" class="font-weight-bold text-xs btn bg-gradient-primary ms-2">Edit</a>
                       <form action="/food/<%= el._id %>?_method=DELETE" method="post" class="delete-food-form">
                        <button type="submit" class="font-weight-bold text-xs btn bg-gradient-danger delete-food-btn">Delete</button>
                        </form>
                    </td>
                </tr>
              <% }) %>
            </tbody>
          </table>
        </div>
    </div>
</div>